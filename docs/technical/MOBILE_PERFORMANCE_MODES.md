# –ú–æ–±–∏–ª—å–Ω—ã–µ —Ä–µ–∂–∏–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–¢—Ä–∏ —Ä–µ–∂–∏–º–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (Full / Light / View) —É–ø—Ä–∞–≤–ª—è—é—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å—é UI-—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º.

## –†–µ–∂–∏–º—ã

### üî¥ Full ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π

**Header:** –≥–∞–º–±—É—Ä–≥–µ—Ä (‚ò∞) —Å–ª–µ–≤–∞ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç MobileFullMenu, –æ—Ç–º–µ–Ω–∞/–ø–æ–≤—Ç–æ—Ä + –∏–µ—Ä–∞—Ä—Ö–∏—è + –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É, –∞–≤–∞—Ç–∞—Ä —Å–ø—Ä–∞–≤–∞.

**Sidebar, Toolbar:** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–≤—Å—ë –≤–∏–¥–Ω–æ). –ò–∑ —Ç—É–ª–±–∞—Ä–∞ —É–±—Ä–∞–Ω—ã —Ç–µ–º–∞ –∏ –≤–µ—Ä—Å–∏—è (–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –º–µ–Ω—é).

**MobileFullMenu:** —Å–ª–∞–π–¥-–ø–∞–Ω–µ–ª—å —Å–ª–µ–≤–∞ —Å 3 –∞–∫–∫–æ—Ä–¥–µ–æ–Ω-—Å–µ–∫—Ü–∏—è–º–∏ (–≤–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏–µ ‚Äî –æ—Ç–∫—Ä—ã—Ç–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞):
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: —Ä–∏—Å–æ–≤–∞–Ω–∏–µ, —Å–º–µ–Ω–∞ —Ç–µ–º—ã, –≤–µ—Ä—Å–∏—è –¥–ª—è –ü–ö, –æ—á–∏—Å—Ç–∏—Ç—å —Ö–æ–ª—Å—Ç, –Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –í–∏–¥: —Å–µ—Ç–∫–∞, –ª–∏–Ω–∏–∏, –∞–Ω–∏–º–∞—Ü–∏—è, —Ñ–æ–Ω, —Ü–≤–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞, —è–∑—ã–∫
- –û–±—Å—É–∂–¥–µ–Ω–∏–µ: –ø–∞—Ä—Ç–Ω—ë—Ä—ã, –∑–∞–º–µ—Ç–∫–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è (+ –¥–æ–±–∞–≤–∏—Ç—å), —Å—Ç–∏–∫–µ—Ä—ã (+ –¥–æ–±–∞–≤–∏—Ç—å)

**–ù–∞–ø—Ä–∞–≤–ª—è—é—â–∏–µ:** –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤ –º–µ–Ω—é –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è.

**–ë–æ–∫–æ–≤—ã–µ –ø–∞–Ω–µ–ª–∏ (Side Panels):** —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –≤ Full-—Ä–µ–∂–∏–º–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º. –£—Å–ª–æ–≤–∏–µ `!isMobileMode` –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ `(!isMobileMode || isFullMode)`. –ù–∞ —ç–∫—Ä–∞–Ω–∞—Ö <= 480px —à–∏—Ä–∏–Ω–∞ –ø–∞–Ω–µ–ª–µ–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –¥–æ `100vw`.

### üü° Light ‚Äî –¢–µ–∫—É—â–∏–π

–ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∫–Ω–æ–ø–æ–∫ –∫–∞–∫ –µ—Å—Ç—å (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π). –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è.

### üü¢ View ‚Äî –ü—Ä–æ—Å–º–æ—Ç—Ä

**–°–∫—Ä—ã—Ç–æ:** –æ—Ç–º–µ–Ω–∞/–ø–æ–≤—Ç–æ—Ä, –∏–µ—Ä–∞—Ä—Ö–∏—è, —Ä–∏—Å–æ–≤–∞–Ω–∏–µ, –≤—ã–¥–µ–ª–µ–Ω–∏–µ, sidebar (–∫–Ω–æ–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è), —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å.

**–í–∏–¥–Ω–æ:** –∫–Ω–æ–ø–∫–∞ "–ø–æ–¥–µ–ª–∏—Ç—å—Å—è" (üìÑ), –∞–≤–∞—Ç–∞—Ä, telegram, zoom, mode-cycle.

## –§–∞–π–ª—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `src/stores/performanceMode.js` | Store: `isFull`, `isLight`, `isView`, `cycleMode()` |
| `src/components/Layout/MobileHeader.vue` | Template restructure: layout –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∂–∏–º–∞ |
| `src/components/Layout/MobileToolbar.vue` | `v-if="!isView"` –Ω–∞ save; —Ç–µ–º–∞ –∏ –≤–µ—Ä—Å–∏—è —É–±—Ä–∞–Ω—ã (–≤ –º–µ–Ω—é) |
| `src/components/Layout/MobileSidebar.vue` | `v-if="!isView"` –Ω–∞ –≤–µ—Å—å sidebar |
| `src/components/Layout/MobileFullMenu.vue` | **NEW** ‚Äî —Å–ª–∞–π–¥-–ø–∞–Ω–µ–ª—å —Å–ª–µ–≤–∞ |
| `src/components/Panels/PanelSwitchBar.vue` | **NEW** ‚Äî –∏–∫–æ–Ω–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–∞–Ω–µ–ª–µ–π |
| `src/App.vue` | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: import, ref, handlers, watcher –∞–≤—Ç–æ-—Å–∫—Ä—ã—Ç–∏—è |

## MobileFullMenu ‚Äî —Å–µ–∫—Ü–∏–∏ –∏ events

**Props:** `visible` (Boolean), `isDark` (Boolean)

**Events:** `close`, `activate-pencil`, `toggle-theme`, `clear-canvas`, `new-structure`

**Stores:**
- `useCanvasStore` ‚Äî grid, background
- `useViewSettingsStore` ‚Äî line color/thickness, animation, header color, background
- `useSidePanelsStore` ‚Äî togglePartners/Notes/Images/Comments/Anchors/StickerMessages
- `useMobileStore` ‚Äî switchToDesktop/switchToMobile (–≤–µ—Ä—Å–∏—è –¥–ª—è –ü–ö)
- `useBoardStore` ‚Äî setPlacementMode('anchor') –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
- `useStickersStore` ‚Äî enablePlacementMode() –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å—Ç–∏–∫–µ—Ä–æ–≤
- `useI18n` ‚Äî locale switcher

**–î–∏–∑–∞–π–Ω:**
- Teleport to `body` (–≤–Ω–µ `.m3-dark` –∫–∞—Å–∫–∞–¥–∞)
- Dark mode —á–µ—Ä–µ–∑ `--dark` CSS –∫–ª–∞—Å—Å + `--md-ref-*` —Ç–æ–∫–µ–Ω—ã
- Touch-friendly: min-height 42px –Ω–∞ –∫–Ω–æ–ø–∫–∏, 48px –Ω–∞ accordion toggles
- Z-index: 2500
- Slide-in: `translateX(-100%)` ‚Üí `translateX(0)` —Å M3 easing
- Width: `min(50vw, 280px)`, –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω —Å `backdrop-filter: blur(20px)`

## –ö–Ω–æ–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è, —Å—Ç–∏–∫–µ—Ä—ã)

–í —Å–µ–∫—Ü–∏–∏ "–û–±—Å—É–∂–¥–µ–Ω–∏–µ" —É –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏ —Å—Ç–∏–∫–µ—Ä–æ–≤ –µ—Å—Ç—å –¥–≤–µ –∫–Ω–æ–ø–∫–∏:
- **–û—Å–Ω–æ–≤–Ω–∞—è** (–Ω–∞–∑–≤–∞–Ω–∏–µ) ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç/–∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- **Ôºã** ‚Äî –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Ä–µ–∂–∏–º —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–∞ —Ö–æ–ª—Å—Ç–µ (placement mode)

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "+" –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º:
1. –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è placement mode
2. –ú–µ–Ω—é –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
3. –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –∞–≤—Ç–æ-—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è (watcher –≤ App.vue)
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ —Ö–æ–ª—Å—Ç –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞

## PanelSwitchBar ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `src/components/Panels/PanelSwitchBar.vue`

–†—è–¥ –∏–∑ 6 –∏–∫–æ–Ω–æ–∫-–∫–Ω–æ–ø–æ–∫ –≤–≤–µ—Ä—Ö—É –∫–∞–∂–¥–æ–π –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏. –ü–æ–∑–≤–æ–ª—è–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –ø–∞–Ω–µ–ª—è–º–∏ –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é.

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º** (–ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `useMobileStore().isMobileMode`).

**–ò–∫–æ–Ω–∫–∏:** üë§ –ü–∞—Ä—Ç–Ω—ë—Ä—ã | üìÖ –ó–∞–º–µ—Ç–∫–∏ | üñºÔ∏è –§–æ—Ç–æ | üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ | üß≠ –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è | üìå –°—Ç–∏–∫–µ—Ä—ã

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∏ –≤—Å—Ç–∞–≤–ª–µ–Ω –ø–æ—Å–ª–µ `__header` –≤ –∫–∞–∂–¥–æ–π –∏–∑ 6 –ø–∞–Ω–µ–ª–µ–π:
- `PartnersPanel.vue`
- `NotesSidePanel.vue`
- `ImagesPanel.vue`
- `CommentsSidePanel.vue`
- `BoardAnchorsPanel.vue`
- `StickerMessagesPanel.vue`

## –ê–≤—Ç–æ-—Å–∫—Ä—ã—Ç–∏–µ –ø–∞–Ω–µ–ª–µ–π –ø—Ä–∏ placement mode

**–§–∞–π–ª:** `src/App.vue`

Watcher –Ω–∞ `boardStore.placementMode` –∏ `stickersStore.isPlacementMode`. –ö–æ–≥–¥–∞ placement mode –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º ‚Äî `sidePanelsStore.closePanel()`.

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ö–æ–ª—Å—Ç—É –ø—Ä–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ —Å—Ç–∏–∫–µ—Ä–æ–≤, –≥–µ–æ—Ç–æ—á–µ–∫ –∏ —Ñ–æ—Ç–æ.

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø—É–Ω–∫—Ç –≤ –º–µ–Ω—é

1. –í `MobileFullMenu.vue` –¥–æ–±–∞–≤–∏—Ç—å `<button class="fullmenu-item">` –≤ –Ω—É–∂–Ω—É—é —Å–µ–∫—Ü–∏—é
2. –°–æ–∑–¥–∞—Ç—å handler, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ emit + `emit('close')`
3. –í `App.vue` –ø–æ–¥–∫–ª—é—á–∏—Ç—å event –Ω–∞ `<MobileFullMenu>`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. `npm run dev` ‚Üí DevTools ‚Üí mobile view (375px)
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º—ã (üî¥‚Üíüü°‚Üíüü¢)
3. **View (üü¢):** —Ç–æ–ª—å–∫–æ share + avatar –≤ header, –Ω–µ—Ç sidebar, –Ω–µ—Ç save –≤ toolbar
4. **Light (üü°):** –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∫–Ω–æ–ø–æ–∫ (—Ä–µ–≥—Ä–µ—Å—Å–∏–π –Ω–µ—Ç)
5. **Full (üî¥):** –≥–∞–º–±—É—Ä–≥–µ—Ä —Å–ª–µ–≤–∞ ‚Üí –º–µ–Ω—é —Å–ª–∞–π–¥–æ–º, undo/redo + hierarchy + selection –ø–æ —Ü–µ–Ω—Ç—Ä—É
6. –¢—ë–º–Ω–∞—è —Ç–µ–º–∞: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ–Ω—é –≤ dark mode
7. –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é: –∫–ª–∏–∫ –Ω–∞ overlay, –∫–Ω–æ–ø–∫–∞ ‚úï
8. –ê–∫–∫–æ—Ä–¥–µ–æ–Ω: –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –æ–¥–Ω–æ–π —Å–µ–∫—Ü–∏–∏ –¥—Ä—É–≥–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è
9. –û–±—Å—É–∂–¥–µ–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ –∫–∞–∂–¥–æ–π –ø–∞–Ω–µ–ª–∏ ‚Äî –ø–∞–Ω–µ–ª—å –∑–∞–Ω–∏–º–∞–µ—Ç 100% —à–∏—Ä–∏–Ω—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º
10. **PanelSwitchBar:** –≤ –∫–∞–∂–¥–æ–π –ø–∞–Ω–µ–ª–∏ —Ä—è–¥ –∏–∫–æ–Ω–æ–∫ –≤–≤–µ—Ä—Ö—É, —Ç–µ–∫—É—â–∞—è –≤—ã–¥–µ–ª–µ–Ω–∞, –∫–ª–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç
11. **PanelSwitchBar –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ:** –∏–∫–æ–Ω–∫–∏ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è
12. –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è "+": –º–µ–Ω—é –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Üí –ø–∞–Ω–µ–ª—å –∞–≤—Ç–æ-—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Üí –∫–ª–∏–∫ –Ω–∞ —Ö–æ–ª—Å—Ç —Å–æ–∑–¥–∞—ë—Ç –º–µ—Ç–∫—É
13. –°—Ç–∏–∫–µ—Ä—ã "+": –º–µ–Ω—é –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Üí –ø–∞–Ω–µ–ª—å –∞–≤—Ç–æ-—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Üí –∫–ª–∏–∫ –Ω–∞ —Ö–æ–ª—Å—Ç —Å–æ–∑–¥–∞—ë—Ç —Å—Ç–∏–∫–µ—Ä
14. –§–æ—Ç–æ: –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ñ–æ—Ç–æ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ø–∞–Ω–µ–ª—å –∞–≤—Ç–æ-—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è
15. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚Üí –í–µ—Ä—Å–∏—è –¥–ª—è –ü–ö: –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–Ω—É—é –≤–µ—Ä—Å–∏—é
16. –¢–µ–º–∞ –∏ –≤–µ—Ä—Å–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –Ω–∏–∂–Ω–µ–π –ø–∞–Ω–µ–ª–∏ (toolbar)
