# LOD (Level of Detail) –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫

## –û–ø–∏—Å–∞–Ω–∏–µ

–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–∞—Å—à—Ç–∞–±–∞ —Ö–æ–ª—Å—Ç–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ü—Ä–∏ —É–º–µ–Ω—å—à–µ–Ω–∏–∏ –º–∞—Å—à—Ç–∞–±–∞ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–∞—Ä—Ç–æ—á–µ–∫, —á—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ DOM –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥.

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –º–∞–ª—ã—Ö –º–∞—Å—à—Ç–∞–±–∞—Ö (10-30%) –Ω–∞ –¥–æ—Å–∫–µ —Å 95+ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–∞—Ä—Ç–æ—á–µ–∫, —Ö–æ—Ç—è –æ–Ω–∏ –Ω–µ –≤–∏–¥–Ω—ã –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è. –≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –ª–∏—à–Ω—é—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ DOM –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥.

## –£—Ä–æ–≤–Ω–∏ LOD

| –£—Ä–æ–≤–µ–Ω—å | –ú–∞—Å—à—Ç–∞–± | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|----------|
| `full` | >50% | –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∏–¥–Ω—ã |
| `medium` | 31-50% | –°–∫—Ä—ã—Ç—ã: –∫–Ω–æ–ø–∫–∞ –∑–∞–º–µ—Ç–∫–∏, PV –∫–Ω–æ–ø–∫–∏ (–º–∞–ª–µ–Ω—å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏), —Ü–∏–∫–ª/—ç—Ç–∞–ø |
| `low` | 16-30% | + –æ—Ç–∫–ª—é—á–µ–Ω—ã –≤—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏ |
| `minimal` | ‚â§15% | + —Å–∫—Ä—ã—Ç—ã –∞–≤–∞—Ç–∞—Ä–∫–∏ –Ω–∞ –±–æ–ª—å—à–∏—Ö/–∑–æ–ª–æ—Ç—ã—Ö –∫–∞—Ä—Ç–æ—á–∫–∞—Ö |

## –°–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ —Ç–∏–ø—É –∫–∞—Ä—Ç–æ—á–∫–∏

### –ú–∞–ª–µ–Ω—å–∫–∞—è –ª–∏—Ü–µ–Ω–∑–∏—è (–ù–ï isLargeCard)

| –ú–∞—Å—à—Ç–∞–± | –°–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã |
|---------|------------------|
| ‚â§50% | –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É" (üìù) |
| ‚â§50% | –ö–Ω–æ–ø–∫–∏ +1, +10, -10, -1 (data-role="active-pv-buttons") |
| ‚â§50% | "–¶–∏–∫–ª/—ç—Ç–∞–ø: X/X" |
| ‚â§30% | –í—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏ |

### –ë–æ–ª—å—à–∞—è –∏ –∑–æ–ª–æ—Ç–∞—è –ª–∏—Ü–µ–Ω–∑–∏—è (isLargeCard –∏–ª–∏ card--gold)

| –ú–∞—Å—à—Ç–∞–± | –°–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã |
|---------|------------------|
| ‚â§50% | –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É" (üìù) |
| ‚â§50% | "–¶–∏–∫–ª/—ç—Ç–∞–ø: X/X" |
| ‚â§30% | –í—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏ |
| ‚â§15% | –ê–≤–∞—Ç–∞—Ä–∫–∞ (card-avatar-container) |

## –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

- **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª**: `src/components/Canvas/Card.vue`
- **Provide zoomScale**: `src/components/Canvas/CanvasBoard.vue`

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–µ—Ä–µ–¥–∞—á–∞ –º–∞—Å—à—Ç–∞–±–∞ (CanvasBoard.vue)

```javascript
// Provide zoomScale –¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (LOD –∫–∞—Ä—Ç–æ—á–µ–∫)
provide('zoomScale', zoomScale);
```

### Inject –∏ LOD computed (Card.vue)

```javascript
// Inject zoomScale from parent (CanvasBoard) for LOD system
const zoomScale = inject('zoomScale', ref(1));

// LOD (Level of Detail) –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Å—à—Ç–∞–±–∞
const lodLevel = computed(() => {
  const scale = zoomScale.value;
  if (scale <= 0.15) return 'minimal';   // ‚â§15%
  if (scale <= 0.30) return 'low';       // ‚â§30%
  if (scale <= 0.50) return 'medium';    // ‚â§50%
  return 'full';                          // >50%
});

// Computed –¥–ª—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ LOD
const showNoteButton = computed(() => lodLevel.value === 'full');
const showPvButtons = computed(() => lodLevel.value === 'full' && !isLargeCard.value);
const showCycleStage = computed(() => lodLevel.value === 'full');
const showAvatar = computed(() => lodLevel.value !== 'minimal');
const enableAnimations = computed(() => lodLevel.value !== 'low' && lodLevel.value !== 'minimal');
```

### CSS –∫–ª–∞—Å—Å—ã

```vue
:class="{
  'card--lod-medium': lodLevel === 'medium',
  'card--lod-low': lodLevel === 'low',
  'card--lod-minimal': lodLevel === 'minimal',
  'card--no-animations': !enableAnimations
}"
```

### –£—Å–ª–æ–≤–∏—è –≤ template

- `v-if` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ DOM
- CSS –∫–ª–∞—Å—Å—ã –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```vue
<!-- –ê–≤–∞—Ç–∞—Ä -->
<div v-if="isLargeCard && showAvatar" class="card-avatar-container">

<!-- –ö–Ω–æ–ø–∫–∏ PV -->
<div v-if="showPvButtons" class="card-active-controls">

<!-- –¶–∏–∫–ª/—ç—Ç–∞–ø -->
<div v-if="showCycleStage" class="card-row">

<!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–º–µ—Ç–∫–∏ -->
<div v-if="showNoteButton" class="card-controls">
```

## –†–∞–∑–º–µ—Ä—ã —à—Ä–∏—Ñ—Ç–æ–≤ –ø–æ —É—Ä–æ–≤–Ω—è–º LOD

### –ú–∞–ª–µ–Ω—å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏

| –£—Ä–æ–≤–µ–Ω—å | PV Row | Card Row | Padding |
|---------|--------|----------|---------|
| `medium` | **2.0em** (700) | 1.6em / value: 1.3em (800) | 4px 6px 20px |
| `low` | **2.4em** (800) | 1.8em / value: 1.4em (900) | 2px 4px 15px |
| `minimal` | **2.8em** (900) | 2.0em / value: 1.5em (900) | 2px 4px 12px |

### –ë–æ–ª—å—à–∏–µ/–∑–æ–ª–æ—Ç—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏

| –£—Ä–æ–≤–µ–Ω—å | PV Row | Card Row Value |
|---------|--------|----------------|
| `medium` | **1.8em** (700) | 1.5em (700) |
| `low`/`minimal` | **2.2em** (800) | 1.8em (800) |

## –û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç

| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | –û–∂–∏–¥–∞–µ–º–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ |
|-------------|-------------------|
| DOM —ç–ª–µ–º–µ–Ω—Ç—ã | 30-40% –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–µ ‚â§50% |
| Painting | 15-25% –ø—Ä–∏ –º–∞–ª—ã—Ö –º–∞—Å—à—Ç–∞–±–∞—Ö |
| –ê–Ω–∏–º–∞—Ü–∏–∏ | 10-15% –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ |
| –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | –°–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–∏ —Å–∫—Ä—ã—Ç–∏–∏ –∞–≤–∞—Ç–∞—Ä–æ–∫ |

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **2026-02-03**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤ –≤ LOD —Ä–µ–∂–∏–º–µ
  - medium: PV 2.0em, card-row 1.6em
  - low: PV 2.4em, card-row 1.8em
  - minimal: PV 2.8em, card-row 2.0em
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ padding –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
- **2026-02-03**: –î–æ–±–∞–≤–ª–µ–Ω–∞ LOD —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã 4 —É—Ä–æ–≤–Ω–∏ LOD: full, medium, low, minimal
  - –î–æ–±–∞–≤–ª–µ–Ω provide/inject –¥–ª—è zoomScale
  - –î–æ–±–∞–≤–ª–µ–Ω—ã v-if —É—Å–ª–æ–≤–∏—è –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω—ã CSS —Å—Ç–∏–ª–∏ –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
