# Composables â€” ĞĞ³Ğ»Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ

> Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ composable, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸ Ñ€ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğµ CanvasBoard.vue

## ĞĞ±Ğ·Ğ¾Ñ€

Ğ’ÑĞµ composables Ğ½Ğ°Ñ…Ğ¾Ğ´ÑÑ‚ÑÑ Ğ² `src/composables/` Ğ¸ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑÑÑ‚ ÑĞ¾Ğ±Ğ¾Ğ¹ 
Ğ¿ĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ñ Ñ€ĞµĞ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¼ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸ĞµĞ¼ (Vue 3 Composition API).

## Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº composables

### Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ¾Ñ‚Ñ€Ğ¸ÑĞ¾Ğ²ĞºĞ°

| Ğ¤Ğ°Ğ¹Ğ» | Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------------|----------|
| useCanvasImageRenderer.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useCanvasImageRenderer.md) | Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ğ½Ğ³ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ Ğ½Ğ° Canvas2D, ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ, Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ |

### Ğ’Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ñ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ°Ğ¼Ğ¸

| Ğ¤Ğ°Ğ¹Ğ» | Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------------|----------|
| useCanvasDrag.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useCanvasDrag.md) | Drag & drop ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº, ÑÑ‚Ğ¸ĞºĞµÑ€Ğ¾Ğ², Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ |
| useCanvasSelection.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useCanvasSelection.md) | Ğ’Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ² Ñ€Ğ°Ğ¼ĞºĞ¾Ğ¹ |
| useImageResize.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useImageResize.md) | Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ |
| useCanvasFocus.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useCanvasFocus.md) | Ğ¦ĞµĞ½Ñ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ viewport Ğ½Ğ° Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ°Ñ… |

### Ğ¡Ğ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ñ

| Ğ¤Ğ°Ğ¹Ğ» | Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------------|----------|
| useCanvasConnections.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useCanvasConnections.md) | Ğ›Ğ¸Ğ½Ğ¸Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ°Ğ¼Ğ¸ |
| useAvatarConnections.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useAvatarConnections.md) | Ğ¡Ğ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°Ğ¼Ğ¸ |

### Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°

| Ğ¤Ğ°Ğ¹Ğ» | Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------------|----------|
| useActivePv.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useActivePv.md) | Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Active PV, Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ° |
| useNoteWindows.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useNoteWindows.md) | ĞĞºĞ½Ğ° Ğ·Ğ°Ğ¼ĞµÑ‚Ğ¾Ğº ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº |

### UI

| Ğ¤Ğ°Ğ¹Ğ» | Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------------|----------|
| useCanvasContextMenus.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useCanvasContextMenus.md) | ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ½Ñ‹Ğµ Ğ¼ĞµĞ½Ñ |

### PencilOverlay (Ñ€ĞµĞ¶Ğ¸Ğ¼ Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ)

| Ğ¤Ğ°Ğ¹Ğ» | Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------------|----------|
| usePencilHistory.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](usePencilHistory.md) | Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ, undo/redo |
| usePencilSelection.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](usePencilSelection.md) | Ğ’Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚Ğ¸ Ğ½Ğ° canvas |
| usePencilDrawing.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](usePencilDrawing.md) | Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ (ĞºĞ¸ÑÑ‚ÑŒ, Ğ¼Ğ°Ñ€ĞºĞµÑ€, Ğ»Ğ°ÑÑ‚Ğ¸Ğº) |
| usePencilImages.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](usePencilImages.md) | Ğ Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ |
| usePencilZoom.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](usePencilZoom.md) | Ğ—ÑƒĞ¼ Ğ¸ Ğ¿Ğ°Ğ½Ğ¾Ñ€Ğ°Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ |

### UserProfile (Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ)

| Ğ¤Ğ°Ğ¹Ğ» | Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|--------------|----------|
| useUserAvatar.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useUserAvatar.md) | Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°, Ğ¾Ğ±Ñ€ĞµĞ·ĞºĞ°, ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ° |
| useUserVerification.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useUserVerification.md) | Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ, Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² |
| useUserPersonalInfo.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useUserPersonalInfo.md) | ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ, Ğ¾Ñ„Ğ¸Ñ, ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€ |
| useUserSocial.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useUserSocial.md) | Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑĞµÑ‚Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ |
| useUserPrivacy.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useUserPrivacy.md) | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ |
| useUserLimits.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useUserLimits.md) | Ğ›Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹ Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ² Ğ¸ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ |
| useUserTariffs.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useUserTariffs.md) | Ğ¢Ğ°Ñ€Ğ¸Ñ„Ğ½Ñ‹Ğµ Ğ¿Ğ»Ğ°Ğ½Ñ‹ Ğ¸ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ½Ğ¸Ğ¼Ğ¸ |
| useUserPromo.js | [ğŸ“„ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](useUserPromo.md) | ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ¼Ğ¾ĞºĞ¾Ğ´Ğ¾Ğ² |

## Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°

| Composable | Ğ¡Ñ‚Ñ€Ğ¾Ğº | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ |
|------------|-------|-----------|
| **CanvasBoard composables** | | |
| useCanvasImageRenderer.js | ~700 | ğŸ”´ Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ |
| useAvatarConnections.js | ~688 | ğŸ”´ Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ |
| useCanvasDrag.js | ~636 | ğŸ”´ Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ |
| useActivePv.js | ~450 | ğŸŸ  Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ |
| useCanvasSelection.js | ~373 | ğŸŸ  Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ |
| useImageResize.js | ~369 | ğŸŸ  Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ |
| useCanvasConnections.js | ~226 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| useCanvasFocus.js | ~180 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| useNoteWindows.js | ~170 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| useCanvasContextMenus.js | ~151 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| **Ğ˜Ñ‚Ğ¾Ğ³Ğ¾ CanvasBoard** | **~3943** | |
| | | |
| **UserProfile composables** | | |
| useUserVerification.js | ~455 | ğŸŸ  Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ |
| useUserPersonalInfo.js | ~441 | ğŸŸ  Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ |
| useUserAvatar.js | ~245 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| useUserTariffs.js | ~180 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| useUserPrivacy.js | ~114 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| useUserLimits.js | ~96 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| useUserSocial.js | ~77 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| useUserPromo.js | ~73 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| **Ğ˜Ñ‚Ğ¾Ğ³Ğ¾ UserProfile** | **~1681** | |
| | | |
| **PencilOverlay composables** | | |
| usePencilSelection.js | ~290 | ğŸŸ  Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ |
| usePencilImages.js | ~250 | ğŸŸ  Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ |
| usePencilHistory.js | ~230 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| usePencilDrawing.js | ~190 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| usePencilZoom.js | ~180 | ğŸŸ¢ ĞĞ¸Ğ·ĞºĞ°Ñ |
| **Ğ˜Ñ‚Ğ¾Ğ³Ğ¾ PencilOverlay** | **~1140** | |
| | | |
| **Ğ’ÑĞµĞ³Ğ¾** | **~6764** | |

## ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
CanvasBoard.vue (Ğ¾Ñ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€)
        â”‚
        â”œâ”€â”€â”€ useCanvasImageRenderer â”€â”€â†’ Canvas2D Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ¸Ğ½Ğ³
        â”‚
        â”œâ”€â”€â”€ useCanvasDrag â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ĞŸĞµÑ€ĞµĞ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²
        â”‚         â”‚
        â”‚         â””â”€â”€â”€ activeGuides (snap Ğº Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‰Ğ¸Ğ¼)
        â”‚
        â”œâ”€â”€â”€ useCanvasSelection â”€â”€â”€â”€â”€â”€â†’ Ğ’Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ¼ĞºĞ¾Ğ¹
        â”‚
        â”œâ”€â”€â”€ useImageResize â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ°
        â”‚
        â”œâ”€â”€â”€ useCanvasConnections â”€â”€â”€â”€â†’ Ğ›Ğ¸Ğ½Ğ¸Ğ¸ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº
        â”‚
        â”œâ”€â”€â”€ useAvatarConnections â”€â”€â”€â”€â†’ Ğ›Ğ¸Ğ½Ğ¸Ğ¸ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ²
        â”‚         â”‚
        â”‚         â””â”€â”€â”€ useBezierCurves (Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ°)
        â”‚
        â”œâ”€â”€â”€ useActivePv â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ PV Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
        â”‚
        â”œâ”€â”€â”€ useCanvasFocus â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Ğ¤Ğ¾ĞºÑƒÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ°
        â”‚         â”‚
        â”‚         â””â”€â”€â”€ usePanZoom (Ğ·ÑƒĞ¼/pan)
        â”‚
        â”œâ”€â”€â”€ useNoteWindows â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Ğ—Ğ°Ğ¼ĞµÑ‚ĞºĞ¸
        â”‚
        â””â”€â”€â”€ useCanvasContextMenus â”€â”€â”€â†’ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ½Ñ‹Ğµ Ğ¼ĞµĞ½Ñ
```

```
UserProfile.vue (Ğ¾Ñ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€)
        â”‚
        â”œâ”€â”€â”€ useUserAvatar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ĞĞ²Ğ°Ñ‚Ğ°Ñ€ (Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°, Ğ¾Ğ±Ñ€ĞµĞ·ĞºĞ°, ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ)
        â”‚         â”‚
        â”‚         â””â”€â”€â”€ CropperJS (Ğ¾Ğ±Ñ€ĞµĞ·ĞºĞ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹)
        â”‚
        â”œâ”€â”€â”€ useUserVerification â”€â”€â”€â”€â†’ Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
        â”‚         â”‚
        â”‚         â””â”€â”€â”€ cooldown timer (Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ ÑĞ¿Ğ°Ğ¼Ğ°)
        â”‚
        â”œâ”€â”€â”€ useUserPersonalInfo â”€â”€â”€â”€â†’ ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
        â”‚         â”‚
        â”‚         â””â”€â”€â”€ office/personal_id Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
        â”‚
        â”œâ”€â”€â”€ useUserSocial â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑĞµÑ‚Ğ¸
        â”‚
        â”œâ”€â”€â”€ useUserPrivacy â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
        â”‚
        â”œâ”€â”€â”€ useUserLimits â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Ğ›Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹ Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ²
        â”‚         â”‚
        â”‚         â””â”€â”€â”€ imageService (ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°)
        â”‚
        â”œâ”€â”€â”€ useUserTariffs â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Ğ¢Ğ°Ñ€Ğ¸Ñ„Ğ½Ñ‹Ğµ Ğ¿Ğ»Ğ°Ğ½Ñ‹
        â”‚
        â””â”€â”€â”€ useUserPromo â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ĞŸÑ€Ğ¾Ğ¼Ğ¾ĞºĞ¾Ğ´Ñ‹
```

```
PencilOverlay.vue (Ğ¾Ñ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€)
        â”‚
        â”œâ”€â”€â”€ usePencilZoom â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Ğ—ÑƒĞ¼ Ğ¸ Ğ¿Ğ°Ğ½Ğ¾Ñ€Ğ°Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
        â”‚
        â”œâ”€â”€â”€ usePencilDrawing â”€â”€â”€â”€â”€â”€â”€â†’ Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ
        â”‚         â”‚
        â”‚         â””â”€â”€â”€ brush/marker/eraser
        â”‚
        â”œâ”€â”€â”€ usePencilHistory â”€â”€â”€â”€â”€â”€â”€â†’ Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ (undo/redo)
        â”‚
        â”œâ”€â”€â”€ usePencilSelection â”€â”€â”€â”€â”€â†’ Ğ’Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚Ğ¸
        â”‚
        â””â”€â”€â”€ usePencilImages â”€â”€â”€â”€â”€â”€â”€â”€â†’ Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ
                  â”‚
                  â””â”€â”€â”€ buildPlacedImage (utils)
```

## ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

```javascript
// 1. Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚
import { useCanvasDrag } from '@/composables/useCanvasDrag'

// 2. Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑĞ¼Ğ¸
const {
  dragState,
  startDrag,
  handleDrag,
  endDrag,
} = useCanvasDrag({
  cardsStore,
  stickersStore,
  imagesStore,
  // ... Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
})

// 3. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² template Ñ‡ĞµÑ€ĞµĞ· return Ğ¸Ğ»Ğ¸ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ
<div @mousedown="(e) => startDrag(e, targets)">
```

## ĞĞ±Ñ‰Ğ¸Ğµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹

1. **Ğ•Ğ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ** â€” ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ composable Ğ´ĞµĞ»Ğ°ĞµÑ‚ Ğ¾Ğ´Ğ½Ñƒ Ğ²ĞµÑ‰ÑŒ
2. **Ğ˜Ğ½ÑŠĞµĞºÑ†Ğ¸Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹** â€” stores Ğ¸ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°ÑÑ‚ÑÑ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ğ¼Ğ¸
3. **Ğ ĞµĞ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ** â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚ÑÑ ref/computed Ğ´Ğ»Ñ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ
4. **Ğ§Ğ¸ÑÑ‚Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸** â€” Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ side effects
5. **Throttling** â€” Ğ´Ğ»Ñ Ñ‡Ğ°ÑÑ‚Ñ‹Ñ… ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ (mousemove) Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ throttle
