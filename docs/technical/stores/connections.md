# Connections Store

Store –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –∏ –∞–≤–∞—Ç–∞—Ä–∞–º–∏ –Ω–∞ –∫–∞–Ω–≤–∞—Å–µ.

## State

### connections
- **–¢–∏–ø**: `Array`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ú–∞—Å—Å–∏–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏

### avatarConnections
- **–¢–∏–ø**: `Array`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ú–∞—Å—Å–∏–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –º–µ–∂–¥—É –∞–≤–∞—Ç–∞—Ä–∞–º–∏

### selectedConnectionIds
- **–¢–∏–ø**: `Array<string>`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ú–∞—Å—Å–∏–≤ ID –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (–¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π)

### defaultLineColor
- **–¢–∏–ø**: `string`
- **Default**: `'#0f62fe'`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¶–≤–µ—Ç –ª–∏–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### defaultLineThickness
- **–¢–∏–ø**: `number`
- **Default**: `5`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–æ–ª—â–∏–Ω–∞ –ª–∏–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### defaultHighlightType
- **–¢–∏–ø**: `string | null`
- **Default**: `null`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–∏–ø –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### defaultAnimationDuration
- **–¢–∏–ø**: `number`
- **Default**: `2000` (MIN_ANIMATION_DURATION)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö

## Actions

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ –∫–∞—Ä—Ç–æ—á–µ–∫

#### addConnection(fromCardId, toCardId, options)
–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `fromCardId` (string): ID –∫–∞—Ä—Ç–æ—á–∫–∏-–∏—Å—Ç–æ—á–Ω–∏–∫–∞
- `toCardId` (string): ID –∫–∞—Ä—Ç–æ—á–∫–∏-–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- `options` (object, optional):
  - `fromSide` (string): –°—Ç–æ—Ä–æ–Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ ('top', 'bottom', 'left', 'right')
  - `toSide` (string): –°—Ç–æ—Ä–æ–Ω–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
  - `color` (string): –¶–≤–µ—Ç –ª–∏–Ω–∏–∏
  - `thickness` (number): –¢–æ–ª—â–∏–Ω–∞ –ª–∏–Ω–∏–∏
  - `highlightType` (string): –¢–∏–ø –ø–æ–¥—Å–≤–µ—Ç–∫–∏
  - `animationDuration` (number): –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏
  - `force` (boolean): –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: –°–æ–∑–¥–∞–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–ª–∏ `null`

#### removeConnection(connectionId)
–£–¥–∞–ª—è–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ ID.

#### removeConnectionsByCardId(cardId, options)
–£–¥–∞–ª—è–µ—Ç –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∫–∞—Ä—Ç–æ—á–∫–æ–π.

#### updateConnection(connectionId, updates)
–û–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –æ–¥–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `connectionId` (string): ID —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- `updates` (object): –û–±—ä–µ–∫—Ç —Å –æ–±–Ω–æ–≤–ª—è–µ–º—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏
  - `color` (string)
  - `thickness` (number)
  - `highlightType` (string)
  - `animationDuration` (number)

#### updateSelectedConnections(connectionIds, updates) üÜï
–û–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `connectionIds` (Array<string>): –ú–∞—Å—Å–∏–≤ ID —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- `updates` (object): –û–±—ä–µ–∫—Ç —Å –æ–±–Ω–æ–≤–ª—è–µ–º—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**:
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å –æ–±—ã—á–Ω—ã–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏, —Ç–∞–∫ –∏ —Å avatar-connections
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏—Å—Ç–æ—Ä–∏—é

**–ü—Ä–∏–º–µ—Ä**:
```javascript
// –û–±–Ω–æ–≤–∏—Ç—å —Ü–≤–µ—Ç –∏ —Ç–æ–ª—â–∏–Ω—É –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ª–∏–Ω–∏–π
connectionsStore.updateSelectedConnections(['conn-1', 'conn-2'], {
  color: '#ff0000',
  thickness: 10
})
```

#### updateAllConnections(updates)
–û–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∫–∞—Ä—Ç–æ—á–µ–∫.

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç default –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

#### updateAllConnectionsColor(color)
–û–±–Ω–æ–≤–ª—è–µ—Ç —Ü–≤–µ—Ç –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∫–∞—Ä—Ç–æ—á–µ–∫.

#### updateAllConnectionsThickness(thickness)
–û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—â–∏–Ω—É –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∫–∞—Ä—Ç–æ—á–µ–∫.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ avatar-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏

#### addAvatarConnection(fromAvatarId, toAvatarId, options)
–°–æ–∑–¥–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É –∞–≤–∞—Ç–∞—Ä–∞–º–∏.

#### removeAvatarConnection(connectionId)
–£–¥–∞–ª—è–µ—Ç avatar-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.

#### updateAvatarConnection(connectionId, updates, options)
–û–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ avatar-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

#### updateAllConnectionsIncludingAvatars(updates)
–û–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, –≤–∫–ª—é—á–∞—è avatar-connections.

#### updateAllConnectionsColorIncludingAvatars(color)
–û–±–Ω–æ–≤–ª—è–µ—Ç —Ü–≤–µ—Ç –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, –≤–∫–ª—é—á–∞—è avatar-connections.

#### updateAllConnectionsThicknessIncludingAvatars(thickness)
–û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—â–∏–Ω—É –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, –≤–∫–ª—é—á–∞—è avatar-connections.

#### updateAllAvatarConnections(updates) üÜï
–û–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –¢–û–õ–¨–ö–û avatar-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `updates` (object): –û–±—ä–µ–∫—Ç —Å –æ–±–Ω–æ–≤–ª—è–µ–º—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏
  - `color` (string)
  - `thickness` (number)
  - `animationDuration` (number)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: –ú–∞—Å—Å–∏–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö avatar-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ avatar-–ª–∏–Ω–∏–π (–Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –æ–±—ã—á–Ω—ã–µ –ª–∏–Ω–∏–∏)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏—Å—Ç–æ—Ä–∏—é
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ ViewSettings –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ "Avatar –ª–∏–Ω–∏–∏"

**–ü—Ä–∏–º–µ—Ä**:
```javascript
// –û–±–Ω–æ–≤–∏—Ç—å —Ü–≤–µ—Ç –∏ —Ç–æ–ª—â–∏–Ω—É —Ç–æ–ª—å–∫–æ avatar-–ª–∏–Ω–∏–π
connectionsStore.updateAllAvatarConnections({
  color: '#ff0000',
  thickness: 10
})
```

#### updateAllAvatarConnectionsColor(color) üÜï
–û–±–Ω–æ–≤–ª—è–µ—Ç —Ü–≤–µ—Ç –¢–û–õ–¨–ö–û avatar-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `color` (string): –ù–æ–≤—ã–π —Ü–≤–µ—Ç –ª–∏–Ω–∏–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: –ú–∞—Å—Å–∏–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö avatar-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

#### updateAllAvatarConnectionsThickness(thickness) üÜï
–û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—â–∏–Ω—É –¢–û–õ–¨–ö–û avatar-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `thickness` (number): –ù–æ–≤–∞—è —Ç–æ–ª—â–∏–Ω–∞ –ª–∏–Ω–∏–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: –ú–∞—Å—Å–∏–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö avatar-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ üÜï

#### setSelectedConnections(connectionIds)
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `connectionIds` (Array<string>): –ú–∞—Å—Å–∏–≤ ID —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

#### clearSelectedConnections()
–û—á–∏—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

#### toggleConnectionSelection(connectionId)
–ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–±–æ—Ä–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–¥–æ–±–∞–≤–ª—è–µ—Ç/—É–¥–∞–ª—è–µ—Ç –∏–∑ —Å–ø–∏—Å–∫–∞).

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### setDefaultConnectionParameters(color, thickness, animationDuration)
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

#### loadConnections(connectionsData)
–ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏–∑ –¥–∞–Ω–Ω—ã—Ö (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ–µ–∫—Ç–∞).

#### loadAvatarConnections(connectionsData)
–ó–∞–≥—Ä—É–∂–∞–µ—Ç avatar-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏–∑ –¥–∞–Ω–Ω—ã—Ö.

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏–Ω–∏–π: —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ª–∏–Ω–∏–π
–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–∏–Ω–∏–π –∏ –∏–∑–º–µ–Ω—è–µ—Ç –∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```javascript
const connectionsStore = useConnectionsStore()

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –ª–∏–Ω–∏–∏
connectionsStore.setSelectedConnections(['conn-1', 'conn-2'])

// ViewSettings –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –∫ –≤—ã–±—Ä–∞–Ω–Ω—ã–º
if (connectionsStore.selectedConnectionIds.length > 0) {
  connectionsStore.updateSelectedConnections(
    connectionsStore.selectedConnectionIds,
    { color: newColor, thickness: newThickness }
  )
}
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ª–∏–Ω–∏–π
–ö–æ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º "–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ –≤—Å–µ–º" (isGlobalLineMode):

```javascript
const viewSettingsStore = useViewSettingsStore()

// –†–µ–∂–∏–º "–∫–æ –≤—Å–µ–º" –≤–∫–ª—é—á–µ–Ω
viewSettingsStore.isGlobalLineMode = true

// ViewSettings –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∫–æ –≤—Å–µ–º –ª–∏–Ω–∏—è–º
connectionsStore.updateAllConnectionsIncludingAvatars({
  color: newColor,
  thickness: newThickness
})
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ default –∑–Ω–∞—á–µ–Ω–∏–π
–ö–æ–≥–¥–∞ –Ω–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ª–∏–Ω–∏–π –∏ —Ä–µ–∂–∏–º "–∫–æ –≤—Å–µ–º" –≤—ã–∫–ª—é—á–µ–Ω:

```javascript
// –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ default –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –ª–∏–Ω–∏–π
// –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ª–∏–Ω–∏–∏ –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è
viewSettingsStore.lineColor = newColor
viewSettingsStore.lineThickness = newThickness
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ViewSettings

ViewSettings store –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â—É—é –ª–æ–≥–∏–∫—É –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ª–∏–Ω–∏–π:

```javascript
// –í setLineColor, setLineThickness, setAnimationSeconds:

// 1. –ï—Å–ª–∏ –µ—Å—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ª–∏–Ω–∏–∏ ‚Üí –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫ –Ω–∏–º
if (connectionsStore.selectedConnectionIds.length > 0) {
  connectionsStore.updateSelectedConnections(
    connectionsStore.selectedConnectionIds,
    { /* updates */ }
  )
}
// 2. –ò–Ω–∞—á–µ –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º ‚Üí –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ –≤—Å–µ–º
else if (this.isGlobalLineMode) {
  connectionsStore.updateAllConnectionsIncludingAvatars({ /* updates */ })
}
// 3. –ò–Ω–∞—á–µ ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ default –∑–Ω–∞—á–µ–Ω–∏—è (–¥–ª—è –Ω–æ–≤—ã—Ö –ª–∏–Ω–∏–π)
```

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 2026-01-10: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è avatar-–ª–∏–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ ViewMenu
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ avatar-–ª–∏–Ω–∏–π:
  - `updateAllAvatarConnections(updates)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - `updateAllAvatarConnectionsColor(color)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞
  - `updateAllAvatarConnectionsThickness(thickness)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—â–∏–Ω—ã
- –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ ViewSettings –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ "Avatar –ª–∏–Ω–∏–∏"
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ avatar-–ª–∏–Ω–∏–π, –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—è –æ–±—ã—á–Ω—ã–µ –ª–∏–Ω–∏–∏

### 2026-01-10: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω–æ `selectedConnectionIds` –≤ state
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `updateSelectedConnections()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ª–∏–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–±–æ—Ä–æ–º: `setSelectedConnections()`, `clearSelectedConnections()`, `toggleConnectionSelection()`
- ViewSettings —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –ª–∏–Ω–∏—è–º, –∫–æ–≥–¥–∞ –æ–Ω–∏ –µ—Å—Ç—å
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞, –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π

## –°–º. —Ç–∞–∫–∂–µ

- [ViewSettings Store](./viewSettings.md)
- [useCanvasConnections Composable](../composables/useCanvasConnections.md)
