# SVG Export - useProjectActions.js

## –û–±–∑–æ—Ä

–§—É–Ω–∫—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ SVG –∏–∑ composable `useProjectActions.js` —Å–æ–∑–¥–∞—ë—Ç —á–∏—Å—Ç—ã–π —Å—Ç–∞—Ç–∏—á–Ω—ã–π –≤–µ–∫—Ç–æ—Ä–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –ø–µ—á–∞—Ç–∏. SVG-—Ñ–æ—Ä–º–∞—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–∞ ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –±–∞–Ω–Ω–µ—Ä–æ–≤ (–¥–æ 3√ó2 –º–µ—Ç—Ä–∞), –ø–æ—Å—Ç–µ—Ä–æ–≤, —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–π –∏ –ø–ª–æ—Ç—Ç–µ—Ä–æ–≤.

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

- –ü–µ—á–∞—Ç—å –Ω–∞ –±–∞–Ω–Ω–µ—Ä–∞—Ö –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
- –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏—é
- –û—Ç–∫—Ä—ã—Ç–∏–µ –≤ Adobe Illustrator, CorelDRAW, Inkscape
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ PDF —á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã
- –ü–µ—á–∞—Ç—å –ø–æ—Å—Ç–µ—Ä–æ–≤ –∏ –ø—Ä–æ–º–æ-–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

**–û—Ç–ª–∏—á–∏–µ –æ—Ç HTML-—ç–∫—Å–ø–æ—Ä—Ç–∞:** SVG ‚Äî —Å—Ç–∞—Ç–∏—á–Ω—ã–π —Ñ–∞–π–ª –±–µ–∑ JavaScript, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –ø–µ—á–∞—Ç–∏. HTML-—ç–∫—Å–ø–æ—Ä—Ç ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Å pan/zoom.

## –§–∞–π–ª—ã

- **[src/composables/useProjectActions.js](../../src/composables/useProjectActions.js)** ‚Äî —Ñ—É–Ω–∫—Ü–∏—è `handleExportSVG()`
- **[src/components/Layout/ProjectMenu.vue](../../src/components/Layout/ProjectMenu.vue)** ‚Äî –ø—É–Ω–∫—Ç –º–µ–Ω—é "–≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –ø–µ—á–∞—Ç–∏"

## –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

- **Guest** ‚Äî –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ (disabled, hint "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π/–ü—Ä–µ–º–∏—É–º")
- **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã** ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç admin)

## –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞

`{–Ω–∞–∑–≤–∞–Ω–∏–µ_–¥–æ—Å–∫–∏}.svg` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `–ª–µ–Ω–∞.svg`)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ SVG

```xml
<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
     width="{totalWidth}" height="{totalHeight}"
     viewBox="0 0 {totalWidth} {totalHeight}" version="1.1">
  <defs>
    <style>/* CSS –∏–∑ getExportSvgCss() */</style>
    <filter id="line-shadow">...</filter>
    <filter id="card-shadow">...</filter>
    <marker id="marker-dot">...</marker>
  </defs>

  <!-- –§–æ–Ω -->
  <rect width="{totalWidth}" height="{totalHeight}" fill="{background}"/>

  <!-- –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å–æ —Å–¥–≤–∏–≥–æ–º (SVG transform —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è SVG-—ç–ª–µ–º–µ–Ω—Ç–æ–≤) -->
  <g transform="translate({translateX} {translateY})">
    <g class="connections-layer">{connectionPaths}</g>
  </g>

  <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ (HTML —á–µ—Ä–µ–∑ foreignObject) -->
  <!-- –ü–æ–∑–∏—Ü–∏–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ CSS (left/top += translate) -->
  <!-- foreignObject –≤–Ω–µ <g transform> ‚Äî SVG transform –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ HTML -->
  <foreignObject x="0" y="0" width="{totalWidth}" height="{totalHeight}"
                 filter="url(#card-shadow)">
    <div id="canvas">{–∫–∞—Ä—Ç–æ—á–∫–∏ —Å CSS}</div>
  </foreignObject>

  <!-- –¢–µ–∫—Å—Ç–æ–≤—ã–π watermark (–ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª) -->
  <text x="{totalWidth - 20}" y="{totalHeight - 15}"
        text-anchor="end" font-size="14" fill="rgba(15,23,42,0.3)">
    @MarketingFohow
  </text>
</svg>
```

## –ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

1. **–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü –∫–æ–Ω—Ç–µ–Ω—Ç–∞** ‚Äî –ø—Ä–æ—Ö–æ–¥ –ø–æ –≤—Å–µ–º –∫–∞—Ä—Ç–æ—á–∫–∞–º –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è bounding box (+80px –≤—ã—Å–æ—Ç—ã –¥–ª—è overflow)
2. **–†–∞—Å—á—ë—Ç —Å–¥–≤–∏–≥–∞** ‚Äî `translateX = padding - minX`, `translateY = padding - minY` ‚Äî –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
3. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π** ‚Äî `buildConnectionGeometry()` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è ‚Üí SVG path
4. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫** ‚Äî –∫–∞–∂–¥–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –∏–∑ DOM, —É–¥–∞–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (14 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤)
5. **–ö–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π –∫–∞—Ä—Ç–æ—á–µ–∫** ‚Äî `left += translateX`, `top += translateY` ‚Äî SVG `<g transform>` –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ HTML –≤–Ω—É—Ç—Ä–∏ foreignObject, –ø–æ—ç—Ç–æ–º—É –ø–æ–∑–∏—Ü–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è –≤ CSS –Ω–∞–ø—Ä—è–º—É—é
6. **–í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** ‚Äî `inlineImages()` –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ base64
7. **–°–±–æ—Ä–∫–∞ SVG** ‚Äî CSS, —Ñ–∏–ª—å—Ç—Ä—ã, –º–∞—Ä–∫–µ—Ä—ã, —Ñ–æ–Ω, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–≤ `<g transform>`), foreignObject (–≤–Ω–µ `<g>`), watermark

## –£–¥–∞–ª—è–µ–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å HTML-—ç–∫—Å–ø–æ—Ä—Ç–æ–º (14 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤):

- `.card-close-btn` ‚Äî –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
- `.connection-point` ‚Äî —Ç–æ—á–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- `.line-hitbox` ‚Äî hitbox —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- `.selection-box` ‚Äî —Ä–∞–º–∫–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è
- `.card-active-controls` ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—ã –≤—ã–¥–µ–ª–µ–Ω–∏—è
- `.card-controls` ‚Äî –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `.active-pv-btn` ‚Äî –∫–Ω–æ–ø–∫–∞ Active PV
- `.card-note-btn` ‚Äî –∫–Ω–æ–ø–∫–∞ –∑–∞–º–µ—Ç–∫–∏
- `[data-role="active-pv-buttons"]` ‚Äî PV –∫–Ω–æ–ø–∫–∏
- `.card-lod-title` ‚Äî LOD –∑–∞–≥–æ–ª–æ–≤–æ–∫
- `.card-lod-summary` ‚Äî LOD —Å–≤–æ–¥–∫–∞
- `.active-pv-hidden` ‚Äî —Å–∫—Ä—ã—Ç—ã–µ PV –¥–∞–Ω–Ω—ã–µ
- `.card-avatar-container` ‚Äî –∞–≤–∞—Ç–∞—Ä–∫–∞
- `.coin-icon-wrapper` ‚Äî –º–æ–Ω–µ—Ç–∫–∞

## Watermark

–ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç `<text>` –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É. –ù–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π, –±–µ–∑ —Å—Å—ã–ª–∫–∏. –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π (opacity 0.3) –¥–ª—è –Ω–µ–Ω–∞–≤—è–∑—á–∏–≤–æ—Å—Ç–∏ –ø—Ä–∏ –ø–µ—á–∞—Ç–∏.

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

| –ü—Ä–æ–≥—Ä–∞–º–º–∞ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ |
|-----------|-----------|
| Chrome, Firefox, Edge | –ü–æ–ª–Ω–∞—è |
| Adobe Illustrator | –ü–æ–ª–Ω–∞—è |
| CorelDRAW | –ü–æ–ª–Ω–∞—è |
| Inkscape | –ü–æ–ª–Ω–∞—è |
| –¢–∏–ø–æ–≥—Ä–∞—Ñ—Å–∫–æ–µ –ü–û | –ß–µ—Ä–µ–∑ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –≤ PDF |

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–¢–æ–ª—å–∫–æ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** ‚Äî —Å—Ç–∏–∫–µ—Ä—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∑–∞–º–µ—Ç–∫–∏ –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è
2. **foreignObject** ‚Äî –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –º–æ–≥—É—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å HTML –≤–Ω—É—Ç—Ä–∏ SVG
3. **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞** ‚Äî –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ base64
4. **–ù–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** ‚Äî —Å—Ç–∞—Ç–∏—á–Ω—ã–π —Ñ–∞–π–ª, –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTML-—ç–∫—Å–ø–æ—Ä—Ç

## –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

| –Ø–∑—ã–∫ | Label | Tooltip |
|------|-------|---------|
| RU | –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –ø–µ—á–∞—Ç–∏ | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–æ—Å–∫—É –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (SVG)... |
| EN | Export for print | Saves the board in vector format (SVG)... |
| ZH | ÂØºÂá∫ÊâìÂç∞Áâà | Â∞ÜÁîªÊùø‰øùÂ≠ò‰∏∫Áü¢ÈáèÊ†ºÂºè(SVG)... |

## –°–º. —Ç–∞–∫–∂–µ

- [src/composables/useProjectActions.js](../../src/composables/useProjectActions.js) ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞
- [docs/technical/html-export.md](./html-export.md) ‚Äî HTML-—ç–∫—Å–ø–æ—Ä—Ç (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π, –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
- [docs/technical/composables/useExport.md](./composables/useExport.md) ‚Äî —ç–∫—Å–ø–æ—Ä—Ç PNG

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 2026-02-18
- –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤ —á–∏—Å—Ç—ã–π —Å—Ç–∞—Ç–∏—á–Ω—ã–π –≤–µ–∫—Ç–æ—Ä –¥–ª—è –ø–µ—á–∞—Ç–∏
- –£–±—Ä–∞–Ω `<script>`, –∫–Ω–æ–ø–∫–∞ –º–∞—Å—à—Ç–∞–±–∞, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π watermark
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –≤ viewBox –≤–º–µ—Å—Ç–æ `width="100%" height="100%"`
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `<g transform="translate(...)">` –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω card-shadow —Ñ–∏–ª—å—Ç—Ä –¥–ª—è —Ç–µ–Ω–∏ –∫–∞—Ä—Ç–æ—á–µ–∫
- –î–æ–±–∞–≤–ª–µ–Ω —Ç–µ–∫—Å—Ç–æ–≤—ã–π watermark "@MarketingFohow" (–ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª)
- –£–±—Ä–∞–Ω –∏–∑ admin-only ‚Äî –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (–∫—Ä–æ–º–µ Guest)
- –ò–∫–æ–Ω–∫–∞ –≤ –º–µ–Ω—é: üñãÔ∏è ‚Üí üñ®Ô∏è
- Label: "–≠–∫—Å–ø–æ—Ä—Ç –≤ SVG" ‚Üí "–≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –ø–µ—á–∞—Ç–∏"
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π tooltip —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- –ò–º—è —Ñ–∞–π–ª–∞: `{–Ω–∞–∑–≤–∞–Ω–∏–µ_–¥–æ—Å–∫–∏}.svg` (–±–µ–∑ –¥–∞—Ç—ã)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å–ø–∏—Å–æ–∫ —É–¥–∞–ª—è–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å HTML-—ç–∫—Å–ø–æ—Ä—Ç–æ–º (14 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤)
- –î–æ–±–∞–≤–ª–µ–Ω +80px –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –≤—ã—Å–æ—Ç—ã –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è overflow
- –£–¥–∞–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `buildSvgViewOnlyScript()` (–±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–∞)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ –æ–±—Ä–µ–∑–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫: foreignObject –≤—ã–Ω–µ—Å–µ–Ω –∏–∑ `<g transform>`, –ø–æ–∑–∏—Ü–∏–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è –≤ CSS (left/top += translate)
