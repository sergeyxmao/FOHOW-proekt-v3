# FeatureGate Component - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `FeatureGate` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ñ—É–Ω–∫—Ü–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∞—Ä–∏—Ñ–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ (—Ä–µ–∂–∏–º 'lock')

```vue
<template>
  <FeatureGate feature="can_export_pdf">
    <button @click="exportPDF">–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF</button>
  </FeatureGate>
</template>

<script setup>
import FeatureGate from '@/components/FeatureGate.vue'

const exportPDF = () => {
  console.log('–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF')
}
</script>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞
- –ï—Å–ª–∏ –ù–ï –¥–æ—Å—Ç—É–ø–Ω–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–∞–º–æ–∫ üîí –∏ –∫–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å —Ç–∞—Ä–∏—Ñ"

---

### –ü—Ä–∏–º–µ—Ä 2: –°–∫—Ä—ã—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–ª–Ω–æ—Å—Ç—å—é (—Ä–µ–∂–∏–º 'hide')

```vue
<template>
  <FeatureGate feature="can_use_advanced_analytics" display-mode="hide">
    <div class="analytics-panel">
      <h3>–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
      <p>–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö...</p>
    </div>
  </FeatureGate>
</template>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–∞–Ω–µ–ª—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- –ï—Å–ª–∏ –ù–ï –¥–æ—Å—Ç—É–ø–Ω–∞ - –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç–æ)

---

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ–∫–∞–∑–∞—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º (—Ä–µ–∂–∏–º 'disabled')

```vue
<template>
  <FeatureGate feature="can_collaborate" display-mode="disabled">
    <button @click="inviteTeam">–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –∫–æ–º–∞–Ω–¥—É</button>
  </FeatureGate>
</template>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ - –∫–Ω–æ–ø–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞
- –ï—Å–ª–∏ –ù–ï –¥–æ—Å—Ç—É–ø–Ω–∞ - –∫–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π (—Å opacity –∏ grayscale), —Ä—è–¥–æ–º –∫–Ω–æ–ø–∫–∞ "üîí –û–±–Ω–æ–≤–∏—Ç—å —Ç–∞—Ä–∏—Ñ"

---

## –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 4: –ö–∞—Å—Ç–æ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∞–ø–≥—Ä–µ–π–¥–∞

```vue
<template>
  <FeatureGate
    feature="can_export_excel"
    upgrade-message="–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤ Pro –ø–ª–∞–Ω–µ. –û–±–Ω–æ–≤–∏—Ç–µ—Å—å –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞!"
  >
    <button @click="exportExcel">
      üìä –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
    </button>
  </FeatureGate>
</template>
```

---

### –ü—Ä–∏–º–µ—Ä 5: –ë–µ–∑ –∫–Ω–æ–ø–∫–∏ –∞–ø–≥—Ä–µ–π–¥–∞

```vue
<template>
  <FeatureGate
    feature="can_use_api"
    :show-upgrade="false"
    display-mode="lock"
  >
    <div class="api-section">
      <h4>API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</h4>
      <code>API_KEY: xxxxxxxxxx</code>
    </div>
  </FeatureGate>
</template>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –ù–ï –¥–æ—Å—Ç—É–ø–Ω–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–∞–º–æ–∫ –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ, –ë–ï–ó –∫–Ω–æ–ø–∫–∏ "–û–±–Ω–æ–≤–∏—Ç—å —Ç–∞—Ä–∏—Ñ"

---

### –ü—Ä–∏–º–µ—Ä 6: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è 'upgrade'

```vue
<template>
  <FeatureGate
    feature="can_export_ppt"
    @upgrade="handleUpgrade"
  >
    <button @click="exportPresentation">
      üìΩÔ∏è –≠–∫—Å–ø–æ—Ä—Ç –≤ PowerPoint
    </button>
  </FeatureGate>
</template>

<script setup>
import { useRouter } from 'vue-router'
import FeatureGate from '@/components/FeatureGate.vue'

const router = useRouter()

const handleUpgrade = (featureName) => {
  console.log('–ó–∞–ø—Ä–æ—Å –∞–ø–≥—Ä–µ–π–¥–∞ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏:', featureName)

  // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–∞—Ä–∏—Ñ–æ–≤
  router.push({
    name: 'subscription',
    query: { feature: featureName }
  })
}

const exportPresentation = () => {
  console.log('–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏')
}
</script>
```

---

### –ü—Ä–∏–º–µ—Ä 7: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ FeatureGate

```vue
<template>
  <FeatureGate feature="can_use_templates" display-mode="lock">
    <div class="templates-section">
      <h3>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤</h3>
      <div class="templates-grid">
        <div class="template-card">–®–∞–±–ª–æ–Ω 1</div>
        <div class="template-card">–®–∞–±–ª–æ–Ω 2</div>
        <div class="template-card">–®–∞–±–ª–æ–Ω 3</div>
      </div>
    </div>
  </FeatureGate>
</template>
```

---

### –ü—Ä–∏–º–µ—Ä 8: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∂–∏–º–∞–º–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

```vue
<template>
  <div class="features-demo">
    <!-- –†–µ–∂–∏–º hide -->
    <FeatureGate feature="admin_panel" display-mode="hide">
      <button>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</button>
    </FeatureGate>

    <!-- –†–µ–∂–∏–º lock -->
    <FeatureGate feature="can_export_pdf" display-mode="lock">
      <button>–≠–∫—Å–ø–æ—Ä—Ç PDF</button>
    </FeatureGate>

    <!-- –†–µ–∂–∏–º disabled -->
    <FeatureGate feature="can_share" display-mode="disabled">
      <button>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
    </FeatureGate>
  </div>
</template>
```

---

## Props API

| Prop | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|--------------|----------|
| `feature` | String | **required** | –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'can_export_pdf') |
| `showUpgrade` | Boolean | `true` | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –∫–Ω–æ–ø–∫—É "–û–±–Ω–æ–≤–∏—Ç—å —Ç–∞—Ä–∏—Ñ" |
| `upgradeMessage` | String | `null` | –ö–∞—Å—Ç–æ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∞–ø–≥—Ä–µ–π–¥–∞ |
| `displayMode` | String | `'lock'` | –†–µ–∂–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: `'hide'`, `'lock'`, `'disabled'` |

---

## –°–æ–±—ã—Ç–∏—è

| –°–æ–±—ã—Ç–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|----------|
| `upgrade` | `featureName: string` | –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û–±–Ω–æ–≤–∏—Ç—å —Ç–∞—Ä–∏—Ñ" |

---

## –†–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (displayMode)

### 1. `hide` - –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç—å
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç
- ‚ùå –§—É–Ω–∫—Ü–∏—è –ù–ï–¥–æ—Å—Ç—É–ø–Ω–∞ ‚Üí –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

### 2. `lock` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –ü–æ–∫–∞–∑–∞—Ç—å —Å –∑–∞–º–∫–æ–º
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç
- ‚ùå –§—É–Ω–∫—Ü–∏—è –ù–ï–¥–æ—Å—Ç—É–ø–Ω–∞ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç + –æ–≤–µ—Ä–ª–µ–π —Å –∑–∞–º–∫–æ–º üîí –∏ –∫–Ω–æ–ø–∫–æ–π –∞–ø–≥—Ä–µ–π–¥–∞

### 3. `disabled` - –ü–æ–∫–∞–∑–∞—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç
- ‚ùå –§—É–Ω–∫—Ü–∏—è –ù–ï–¥–æ—Å—Ç—É–ø–Ω–∞ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–π (disabled) –∫–æ–Ω—Ç–µ–Ω—Ç + inline –∫–Ω–æ–ø–∫–∞ –∞–ø–≥—Ä–µ–π–¥–∞

---

## –°–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (features)

–ü—Ä–∏–º–µ—Ä—ã –Ω–∞–∑–≤–∞–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

- `can_export_pdf` - –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF
- `can_export_excel` - –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
- `can_export_ppt` - –≠–∫—Å–ø–æ—Ä—Ç –≤ PowerPoint
- `can_collaborate` - –°–æ–≤–º–µ—Å—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- `can_use_api` - –î–æ—Å—Ç—É–ø –∫ API
- `can_use_advanced_analytics` - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- `can_use_templates` - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤
- `can_share` - –§—É–Ω–∫—Ü–∏—è "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è"
- `admin_panel` - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ –≤ —Ç–∞—Ä–∏—Ñ–Ω—ã—Ö –ø–ª–∞–Ω–∞—Ö.

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å subscription store

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `useSubscriptionStore()` –¥–ª—è:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏** —á–µ—Ä–µ–∑ `checkFeature(featureName)`
2. **–ü–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –∞–ø–≥—Ä–µ–π–¥–∞** —á–µ—Ä–µ–∑ `getUpgradeMessage(featureName)`

–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```javascript
import { useSubscriptionStore } from '@/stores/subscription'

const subscriptionStore = useSubscriptionStore()

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏
console.log(subscriptionStore.checkFeature('can_export_pdf')) // true –∏–ª–∏ false

// –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
console.log(subscriptionStore.getUpgradeMessage('can_export_pdf'))
```

---

## –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º 'hide'** –¥–ª—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å)
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º 'lock'** –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (–¥–ª—è –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏)
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º 'disabled'** –¥–ª—è –º–µ–ª–∫–∏—Ö UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∫–Ω–æ–ø–∫–∏, —á–µ–∫–±–æ–∫—Å—ã)
4. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å–æ–±—ã—Ç–∏–µ 'upgrade'** –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–π –ª–æ–≥–∏–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–∞—Ä–∏—Ñ–æ–≤
